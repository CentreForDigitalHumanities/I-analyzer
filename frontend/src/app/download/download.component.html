<div class="level-item">
    <div class="field has-addons">
        <p class="control" iaBalloon="Only the first {{downloadLimit}} results will be in the file!"
            [iaBalloonVisible]="hasLimitedResults ? undefined : false" iaBalloonLength="fit">
            <button class="button is-primary" [ngClass]="{'is-loading':isDownloading}" type="download"
                (click)="chooseDownloadMethod()" [disabled]="resultsCount===0">
                <span class="icon">
                    <fa-icon [icon]="actionIcons.download" aria-hidden="true"></fa-icon>
                </span>
                <span>Download csv</span>
            </button>
        </p>
        <p class="control" iaBalloon="Click here to select which fields should appear in the csv" iaBalloonLength="medium">
            <ia-select-field [corpusFields]="corpus.fields" filterCriterion="downloadable"
                (selection)="selectCsvFields($event)">
            </ia-select-field>
        </p>
    </div>
</div>

<ia-download-options [download]="pendingDownload" (cancel)="pendingDownload = undefined"
    (confirm)="confirmDirectDownload($event)"></ia-download-options>
