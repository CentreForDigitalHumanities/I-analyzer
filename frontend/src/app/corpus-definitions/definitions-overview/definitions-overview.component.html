<div class="section">
    <div class="container">
        <nav aria-label="secondary navigation" class="breadcrumb">
            <ul>
                <li><a [routerLink]="['/']">Corpora</a></li>
                <li class="is-active" aria-current="page"><a>Definitions</a></li>
            </ul>
        </nav>

        <h1 class="title">Corpus definitions</h1>

        <div class="block">
            <a class="button" [routerLink]="['new']">
                <span class="icon" aria-hidden="true">
                    <fa-icon [icon]="actionIcons.add"></fa-icon>
                </span>
                <span>Create a new corpus</span>
            </a>
        </div>

        <div class="block" *ngIf="corpora$ | async as corpora">
            <table class="table is-fullwidth">
                <thead>
                    <tr>
                        <th>Corpus</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let corpus of corpora">
                        <td>{{corpus.definition.meta.title}}</td>
                        <td>
                            <a class="button"
                                [routerLink]="['/search', corpus.definition.name]"
                                [attr.disabled]="!corpus.active">
                                <span class="icon" aria-label="edit">
                                    <fa-icon [icon]="actionIcons.search"></fa-icon>
                                </span>
                            </a>
                            &nbsp;
                            <a class="button" [routerLink]="['edit', corpus.id]">
                                <span class="icon" aria-label="edit">
                                    <fa-icon [icon]="actionIcons.edit"></fa-icon>
                                </span>
                            </a>
                            &nbsp;
                            <a class="button"
                                [routerLink]="['io', corpus.id]">
                                <span class="icon" aria-label="import-export">
                                    <fa-icon [icon]="actionIcons.inOut"></fa-icon>
                                </span>
                            </a>
                            &nbsp;
                            <button class="button" (click)="delete(corpus)"
                                [disabled]="corpus.active">
                                <span class="icon" aria-label="delete">
                                    <fa-icon [icon]="actionIcons.delete"></fa-icon>
                                </span>
                            </button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
