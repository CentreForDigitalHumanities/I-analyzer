<h2 class="title is-5">Documentation</h2>


<p class="block">
    Add documentation to help users understand what your corpus is, and how they can use
    it in their research. You can use
    <a href="https://www.markdownguide.org/">markdown</a> to style the content.
</p>
<form [formGroup]="form" (ngSubmit)="submit()">
    <div class="block">
        <ia-tabs>
            <ng-template iaTabPanel *ngFor="let category of categories"
                 [id]="category.id" [title]="category.title">
                <p class="block">{{category.description}}</p>

                <textarea [formControl]="form.controls[category.id]"
                    class="textarea" rows="10"
                    [attr.aria-labelledby]="'tab-' + category.id">
                </textarea>
            </ng-template>
        </ia-tabs>
    </div>

    <div class="block">
        <button class="button is-primary" type="submit">
            Save changes
        </button>
    </div>

    <div class="block" role="status">
        <div class="message is-success" *ngIf="showSuccessMessage$ | async">
            <p class="message-body">
                Changes saved!
            </p>
        </div>
        <div class="message is-danger" *ngIf="showErrorMessage$ | async">
            <p class="message-body">
                Something went wrong saving your changes. Please try again.
                If you keep seeing this error, please contact support.
            </p>
        </div>
    </div>
</form>
