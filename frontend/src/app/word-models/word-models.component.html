<section class="section title-section">
    <div class="container is-readable">
        <div class="level">
            <div class="level-right">
                <div class="level-item">
                    <h1 class="title">
                        Word models of
                        <a class="corpus-name" [routerLink]="['/home']" *ngIf="corpus">&ldquo;{{corpus?.title}}&rdquo;</a>
                        <sup>
                            <span *ngIf="corpus && corpus.descriptionpage" class="moreInfoLink icon is-small" iaBalloon="More information" iaBalloonPosition="up-left" (click)="showCorpusInfo(corpus)">
                                <i class="moreInfoLink fa fa-info-circle info-icon"></i>
                            </span>
                        </sup>
                    </h1>
                </div>
            </div>
            <div class="level-left">
                <div class="field has-addons">
                    <div class="control">
                        <a class="button is-medium" [routerLink]="['/search', corpus?.name]">
                            <span class="icon">
                                <fa-icon [icon]="searchIcon">search</fa-icon>
                            </span>
                            <!-- <span>Search documents</span> -->
                        </a>
                    </div>
                    <div class="control">
                        <button class="button is-primary is-medium">
                            <span class="icon">
                                <fa-icon [icon]="wordModelsIcon">models</fa-icon>
                            </span>
                            <!-- <span>Word models</span> -->
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<section *ngIf="user">
    <div class="container is-readable">
        <div class="block">
            <div class="field has-addons">
                <div class="control is-expanded">
                    <input class="input" placeholder="Query" [(ngModel)]="queryText">
                </div>
                <div class="control">
                    <button type="submit" class="button is-primary" (click)="submitQuery()">
                        Search
                    </button>
                </div>
            </div>
        </div>


        <ng-container *ngIf="activeQuery">
            <div class="tabs is-boxed">
                <ul>
                    <li [ngClass]="{'is-active': tabIndex==0}">
                        <a role="button" tabindex="0" (keydown.enter)="tabIndex=0" (click)="tabIndex=0">Related words</a>
                    </li>
                    <li [ngClass]="{'is-active': tabIndex==1}">
                        <a role="button" tabindex="0" (keydown.enter)="tabIndex=1" (click)="tabIndex=1">Word context</a>
                    </li>
                    <li [ngClass]="{'is-active': tabIndex==2}">
                        <a role="button" tabindex="0" (keydown.enter)="tabIndex=2" (click)="tabIndex=2">Plain text</a>
                    </li>
                </ul>
            </div>

            <ng-container *ngIf="tabIndex==0">
                <ia-related-words [corpus]="corpus" [queryText]="activeQuery"
                    [asTable]="false">
                </ia-related-words>
            </ng-container>
            <ng-container *ngIf="tabIndex==1">
                <ia-word-context [corpus]="corpus" [queryText]="activeQuery"></ia-word-context>
            </ng-container>
        </ng-container>

    </div>
</section>
