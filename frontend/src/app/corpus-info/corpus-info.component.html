<ia-corpus-header [corpus]="corpus" currentPage="info"></ia-corpus-header>

<section class="section">
    <div class="container is-readable">
        <div class="columns">
            <div class="column">
                <div class="block">
                    <p>{{corpus.description}}</p>
                </div>
                <div class="block metadata">
                    <p>Language: <strong>{{corpus.displayLanguages}}</strong></p>
                    <p>Type: <strong>{{corpus.category}}</strong></p>
                    <p>Period: <strong>{{corpus.minYear}}-{{corpus.maxYear}}</strong></p>
                </div>
            </div>
            <div class="column is-3">
                <img src="/api/corpus/image/{{corpus.name}}/{{corpus.image}}" alt="{{corpus.title}}">
            </div>
        </div>
    </div>
</section>

<section class="section" style="padding-top: 0;" [class.is-loading]="!corpus">
    <div class="container is-readable" *ngIf="corpus">
        <div class="tabs is-boxed">
            <ul>
                <li *ngFor="let tab of tabs" [class.is-active]="currentTab.value === tab.name">
                    <a *ngIf="corpus[tab.property]"
                        role="button" (click)="currentTab.next(tab.name)">
                        {{tab.title}}
                    </a>
                </li>
            </ul>
        </div>

        <ng-container *ngIf="currentTab | async as tab">
            <div *ngIf="tab === 'general'" class="content" [class.is-loading]="!description" [innerHTML]="description"></div>

            <div *ngIf="tab === 'fields'">
                <div class="block" *ngFor="let field of corpus.fields">
                    <ia-field-info  [field]="field" [coverage]="fieldCoverage ? fieldCoverage[field.name] : undefined"></ia-field-info>
                </div>
            </div>

            <div *ngIf="tab === 'models'" class="content" [class.is-loading]="!wordModelDocumentation" [innerHTML]="wordModelDocumentation"></div>
        </ng-container>
    </div>
</section>
