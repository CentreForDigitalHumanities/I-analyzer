<nav class="navbar" *ngIf="currentUser" aria-label="primary navigation">
    <div class="container is-fluid">
        <div class="navbar-brand">
            <a class="navbar-item" [routerLink]="['/home']">
                <img src="/assets/logo.png" aria-hidden="true" width="50" height="50">
                I-ANALYZER
            </a>

            <a (click)="toggleMenu($event)" role="button" [ngClass]="{'navbar-burger': true, 'is-active': menuOpen}" aria-label="menu" aria-expanded="false">
                    <span aria-hidden="true"></span>
                    <span aria-hidden="true"></span>
                    <span aria-hidden="true"></span>
            </a>
        </div>
        <div class="navbar-menu" [class.is-active]="menuOpen">
            <div class="navbar-start">
                <!-- navbar items -->
                <a class="navbar-item" [routerLinkActive]="'is-active'" [routerLink]="['/home']">
                    <span class="icon" aria-hidden="true">
                        <fa-icon [icon]="icons.corpora"></fa-icon>
                    </span>
                    Corpora
                </a>
                <a class="navbar-item" [routerLinkActive]="'is-active'" [routerLink]="['/manual', 'main']">
                    <span class="icon" aria-hidden="true">
                        <fa-icon [icon]="icons.manual"></fa-icon>
                    </span>
                    Manual
                </a>
                <a class="navbar-item" [routerLinkActive]="'is-active'" [routerLink]="['/about']">
                    <span class="icon" aria-hidden="true">
                        <fa-icon [icon]="icons.about"></fa-icon>
                    </span>
                    About
                </a>
            </div>
            <div class="navbar-end">
                <!-- navbar items -->
                <div class="navbar-item has-dropdown"
                    [class.is-active]="dropdownOpen$ | async">
                    <a class="navbar-link"
                        tabindex="0" role="button"
                        (click)="toggleDropdown()"
                        (keydown.enter)="toggleDropdown()">
                        <span class="icon" aria-hidden="true">
                            <fa-icon [icon]="icons.user"></fa-icon>
                        </span>
                        {{currentUser.name}}
                        <!-- drop down menu to log out, or see previous queries-->
                    </a>
                    <div class="navbar-dropdown is-right"
                        id="userDropdown" #userDropdown>
                        <a class="navbar-item"
                            [routerLink]="['/search-history']">
                            <span class="icon" aria-hidden="true">
                                <fa-icon [icon]="icons.searchHistory"></fa-icon>
                            </span>
                            Search history
                        </a>
                        <a class="navbar-item"
                            [routerLink]="['/download-history']">
                            <span class="icon" aria-hidden="true">
                                <fa-icon [icon]="icons.downloads"></fa-icon>
                            </span>
                            Downloads
                        </a>
                        <a class="navbar-item"
                            [routerLink]="['/settings']">
                            <span class="icon" aria-hidden="true">
                                <fa-icon [icon]="icons.settings"></fa-icon>
                            </span>
                            Settings
                        </a>
                        <a class="navbar-item"
                            href="{{adminUrl}}">
                            <span class="icon" aria-hidden="true">
                                <fa-icon [icon]="icons.admin"></fa-icon>
                            </span>
                            Administration
                        </a>
                        <a class="navbar-item"
                            role="button"
                            tabindex="0"
                            (click)="logout()"
                            (keydown.enter)="logout()">
                            <span class="icon" aria-hidden="true">
                                <fa-icon [icon]="icons.logout"></fa-icon>
                            </span>
                            Logout
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</nav>
