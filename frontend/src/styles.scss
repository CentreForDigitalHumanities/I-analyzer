@import "utilities";
@import "bulma/bulma";
@import "balloon-css/src/balloon";


[data-balloon]:after {
    border-radius: 0;
}

.container.is-readable {
    max-width: 1024px !important;
}

.search-section {
    background: var(--bulma-body-background-color);
    position: sticky;
    top: 0;
    transition: box-shadow 0.2s;
    z-index: 500;

    // slightly less padding because the search entry field needs a separate section to be allowed to be sticky
    // (or at least meaningfully sticky)
    padding-top: $spacing;
    padding-bottom: $spacing;

    &.is-scrolled-down {
        box-shadow: $boxShadow;
    }

    + section {
        padding-top: $spacing;
    }

    .search-controls {
        align-items: flex-start;
    }
}

.tabs {
    white-space: normal;
}

.is-loading:not(.button) {
    @extend %content-loader;
}

.tag-dropdown .button {
	align-items: center;
	border-radius: 3px;
	display: inline-flex;
	font-size: 0.75rem;
	height: 2em;
	justify-content: center;
	line-height: 1.5;
	padding-left: 0.75em;
	padding-right: 0.75em;
	white-space: nowrap;
}

a.dropdown-item:focus {
    @extend a, .dropdown-item, :hover;
}

a.dropdown-item[disabled] {
    color: $grey;
    cursor: not-allowed;

    &:hover {
        background-color: inherit;
        color: $grey;
    }
}

@mixin mark-entity($color) {
    background-color: rgb(from $color r g b /.2);
    border-bottom: .2em solid;
    border-color: $color;

    .entity-icon, &.entity-icon {
        padding-left: .3em;
        padding-right: .3em;
        color: $color;
    }
}

.entity-person {
    @include mark-entity($entity-person);
}

.entity-location {
    @include mark-entity($entity-location);
}

.entity-organization {
    @include mark-entity($entity-organization);
}

.entity-miscellaneous {
    @include mark-entity($entity-miscellaneous);
}

.is-disabled {
    @extend [disabled];
}

// restore some rules from older bulma versions for compatibility

.block:not(:last-child), .message:not(:last-child), .title:not(:last-child),
    .box:not(:last-child), .field:not(:last-child), .content:not(:last-child) {
    margin-bottom: var(--bulma-block-spacing);
}

.heading {
    display: block;
    font-size: 11px;
    letter-spacing: 1px;
    margin-bottom: 5px;
    text-transform: uppercase;
}

:root {
    --bulma-shadow: 0 2px 3px hsla(var(--bulma-shadow-h), var(--bulma-shadow-s), var(--bulma-shadow-l), 0.1),
        0 0 0 1px hsla(var(--bulma-shadow-h), var(--bulma-shadow-s), var(--bulma-shadow-l), 0.1);
}

// reset focus styling for accessibility

a, button {
    &:focus-visible {
        outline: auto !important;
        border: inherit !important;
    }
}
