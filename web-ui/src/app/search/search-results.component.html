<h2 class="title">
    Search results
</h2>
<ng-container *ngIf="!results.total; else resultsBlock">
    <h2 class="subtitle">
        0 hits
    </h2>
</ng-container>
<ng-template #resultsBlock>
    <h2 class="subtitle" *ngIf="results.total <= 5">
        {results.total, plural, =1 {1 hit} other {{{results.total}} hits}}
    </h2>
    <h2 class="subtitle" *ngIf="results.total > 5">
        {{results.total}} hits. Your download limit is {{user.downloadLimit}}. This is a subset of {{results.documents.length}} results:
    </h2>
    <div class="hits">
        <div *ngFor="let document of results.documents" class="document box" (click)="view(document)" role="button">
            <div class="columns is-gapless">
                <table class=" column table is-fullwidth">
                    <ng-container *ngFor="let field of results.fields">
                        <tr *ngIf="document.fieldValues[field.name]">
                            <td><b>{{field.displayName}}: </b></td>
                            <td [innerHtml]="document.fieldValues[field.name] | highlight:query:true"></td>
                        </tr>
                    </ng-container>
                </table>
                <div class="column is-one-quarter is-centered">
                    <div class="relevance-score">
                        <span>Relevance: {{document.relevance * 100 | number:'1.0-0' }}%</span>
                    </div>
                    <search-relevance [value]="document.relevance"></search-relevance>
                </div>
            </div>
        </div>
    </div>
</ng-template>
